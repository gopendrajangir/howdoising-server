(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,a,t){e.exports=t.p+"static/media/home-auditorium.9d442c1b.png"},117:function(e,a,t){e.exports=t.p+"static/media/home-discussion.624f39c0.png"},123:function(e,a,t){e.exports=t.p+"static/media/logo-full.a0742aad.png"},124:function(e,a,t){e.exports=t(197)},132:function(e,a,t){},152:function(e,a,t){},153:function(e,a,t){},154:function(e,a,t){},155:function(e,a,t){},156:function(e,a,t){},157:function(e,a,t){},158:function(e,a,t){},159:function(e,a,t){},160:function(e,a,t){},161:function(e,a,t){},162:function(e,a,t){},192:function(e,a){},195:function(e,a,t){},196:function(e,a,t){},197:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(64),s=t.n(o),c=t(21),i=t(37),l=t(115),m=t(2),u=t(40),d=t(5),p=t.n(d),_=t(116),f=t.n(_),g=t(117),v=t.n(g),E=t(87),h=t.n(E);t(132);var b=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"home-header"},r.a.createElement("div",{className:"home-header__left"},r.a.createElement("h1",{className:"home-header__heading-primary"},"HOWDOISING"),r.a.createElement("h2",{className:"home-header__heading-secondary"},"SING, SHARE AND LEARN"),r.a.createElement(m.b,{className:"home-cta home-cta--header",to:"#"},"Explore Auditorium")),r.a.createElement("div",{className:"home-header__right"},r.a.createElement("div",{className:"home-header__logo-cover"},r.a.createElement("img",{className:"home-header__logo-img",src:h.a,alt:"logo"})))),r.a.createElement("section",{className:"home-section home-steps section-padding"},r.a.createElement("h1",{className:"section-heading"},"SING, SHARE AND GET FEEDBACK"),r.a.createElement("div",{className:"section-content home-steps__content"},r.a.createElement("div",{className:"home-step"},r.a.createElement("svg",{className:"home-step__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-mic")})),r.a.createElement("span",{className:"home-step__title"},"RECORD")),r.a.createElement("div",{className:"home-step"},r.a.createElement("svg",{className:"home-step__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-cloud-upload")})),r.a.createElement("span",{className:"home-step__title"},"UPLOAD")),r.a.createElement("div",{className:"home-step"},r.a.createElement("svg",{className:"home-step__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-insert_comment")})),r.a.createElement("span",{className:"home-step__title"},"FEEDBACK")))),r.a.createElement("section",{className:"home-auditorium section-padding"},r.a.createElement("h1",{className:"section-heading section-heading--light"},"THE AUDITORIUM"),r.a.createElement("div",{className:"section-content home-auditorium__content"},r.a.createElement("div",{className:"home-auditorium__left"},r.a.createElement("p",{className:"home-auditorium__text"},"Auditorium is the place where all the recordings uploaded by users can be seen. You can rate them and also can comment on them and give your valuable suggestion to the users to help them to improve there singing and enhance their singing abilities."),r.a.createElement(m.b,{className:"home-cta",to:"#"},"Explore Auditorium")),r.a.createElement("div",{className:"home-auditorium__right"},r.a.createElement("img",{className:"home-auditorium__img",src:f.a,alt:"home auditorium"})))),r.a.createElement("section",{className:"home-discussion section-padding"},r.a.createElement("h1",{className:"section-heading"},"QnA"),r.a.createElement("div",{className:"section-content home-discussion__content"},r.a.createElement("div",{className:"home-discussion__left"},r.a.createElement("p",{className:"home-discussion__text"},"QnA section help users to find answers to their doubts and confusions. One can ask question either in Text message or Voice message and anyone who wants to help can answer it in Text message or Voice message."),r.a.createElement(m.b,{className:"home-cta home-cta--dark",to:"#"},"QnA Section")),r.a.createElement("div",{className:"home-discussion__right"},r.a.createElement("img",{className:"home-discussion__img",src:v.a,alt:"home discussion"})))),r.a.createElement("section",{className:"home-record section-padding"},r.a.createElement("h1",{className:"section-heading section-heading--light"},"Recording Studio"),r.a.createElement("div",{className:"section-content home-record__content"},r.a.createElement("div",{className:"home-record__left"},r.a.createElement("svg",{className:"home-record__img"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-mic")}))),r.a.createElement("div",{className:"home-record__right"},r.a.createElement("p",{className:"home-record__text"},"You can record and upload audio of maximum 1:30 minute. You need to allow browser to use microphone for recording. Once voice is recorded you can give title and description to it and upload it. You will receive notification when anyone will rate or comment on your recording."),r.a.createElement(m.b,{className:"home-cta",to:"#"},"QnA Section")))),r.a.createElement("section",{className:"home-auth section-padding"},r.a.createElement("h1",{className:"section-heading"},"SIGNUP OR LOGIN"),r.a.createElement("div",{className:"section-content home-auth__content"},r.a.createElement(m.b,{className:"home-cta home-cta--primary home-auth__cta home-auth__cta--signup",to:"#"},"SIGNUP"),r.a.createElement(m.b,{className:"home-cta home-auth__cta home-auth__cta--login",to:"#"},"LOGIN"))),r.a.createElement("footer",{className:"home-footer section-padding"},r.a.createElement("img",{className:"home-footer__logo-img",src:h.a,alt:"logo"}),r.a.createElement("div",{className:"section-content home-footer__content"},r.a.createElement("ul",{className:"home-footer-nav__list"},r.a.createElement("li",{className:"home-footer-nav__item"},r.a.createElement(m.b,{className:"home-footer-nav__link",to:"#"},r.a.createElement("svg",{className:"home-footer-nav__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-home")})),r.a.createElement("span",{className:"home-footer-nav__text"},"Home"))),r.a.createElement("li",{className:"home-footer-nav__item"},r.a.createElement(m.b,{className:"home-footer-nav__link",to:"#"},r.a.createElement("svg",{className:"home-footer-nav__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-music")})),r.a.createElement("span",{className:"home-footer-nav__text"},"Auditorium"))),r.a.createElement("li",{className:"home-footer-nav__item"},r.a.createElement(m.b,{className:"home-footer-nav__link",to:"#"},r.a.createElement("svg",{className:"home-footer-nav__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-bubbles")})),r.a.createElement("span",{className:"home-footer-nav__text"},"QnA"))))),r.a.createElement("p",{className:"home-footer__copyright"},"\xa9 2020 HowDoISing | All rights reserved.")))},N=t(6),w=t(3),x=r.a.createContext(),k=r.a.createContext(),O=t(4),y=t.n(O),S=t(13),j=t(10),I=t.n(j);function C(){return(C=Object(S.a)(y.a.mark((function e(a,t){var n,r,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setErrors,r=t.setSubmitting,o=t.props,s=o.history,r(!0),e.prev=3,e.next=6,I.a.post("/api/v1/users/signup",{name:a.name,email:a.email});case 6:"success"===e.sent.data.status&&s.push({pathname:"/sentMail",state:{message:"Email verification link sent successfully to ".concat(a.email)}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({email:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var P=function(e,a){return C.apply(this,arguments)};t(152);var q=Object(w.d)({mapPropsToValues:function(){return{name:"",email:""}},handleSubmit:P,validationSchema:N.a().shape({name:N.c().min(5,"Name must have atleast 5 characters").max(20,"Name must have less than or equal to 20 characters").required("Name is required"),email:N.c().email("Invalid Email").required("Email is required")})})((function(e){var a=e.isSubmitting;return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement(u.a,{to:"/profile"}):r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"signup-box"},r.a.createElement(w.c,{className:"signup-form"},r.a.createElement("div",{className:"signup-form__field"},r.a.createElement(w.a,{className:"signup-form__error",name:"name",component:"div"}),r.a.createElement("label",{className:"signup-form__label",htmlFor:"name"},"Name"),r.a.createElement(w.b,{placeholder:"Name",className:"signup-form__input",id:"name",name:"name"})),r.a.createElement("div",{className:"signup-form__field"},r.a.createElement(w.a,{className:"signup-form__error",name:"email",component:"div"}),r.a.createElement("label",{className:"signup-form__label",htmlFor:"email"},"Email"),r.a.createElement(w.b,{placeholder:"Email",className:"signup-form__input",id:"email",name:"email"})),r.a.createElement("button",{className:"signup-form__button",type:"submit",disabled:a},"Signup")),r.a.createElement("p",{className:"signup-note"},"Email confirmation link will be sent on the email address you will provide then you can set password for your account."),r.a.createElement("div",{className:"signup-redirect"},r.a.createElement("p",{className:"signup-redirect__login"},"Already have an account?",r.a.createElement(m.b,{className:"signup-redirect__link",to:"/login"},"Login")))))}))})),L=Object(u.g)(q),R=function(e){return{type:"LOG_IN",payload:e}};function A(){return(A=Object(S.a)(y.a.mark((function e(a,t){var n,r,o,s,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setErrors,r=t.setSubmitting,o=t.props,s=o.logIn,r(!0),e.prev=3,e.next=6,I.a.post("/api/v1/users/login",{email:a.email,password:a.password});case 6:c=e.sent,s(c.data.data.user),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({email:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var H=function(e,a){return A.apply(this,arguments)};var T=Object(w.d)({mapPropsToValues:function(){return{email:"",password:""}},handleSubmit:H,validationSchema:N.a().shape({email:N.c().required("Email is required"),password:N.c().required("Password is required")})})((function(e){var a=e.isSubmitting;return r.a.createElement(w.c,{className:"login-form"},r.a.createElement("div",{className:"login-form__field"},r.a.createElement(w.a,{className:"login-form__error",name:"email",component:"div"}),r.a.createElement("label",{className:"login-form__label",htmlFor:"email"},"Email"),r.a.createElement(w.b,{placeholder:"Email",className:"login-form__input",id:"email",name:"email"})),r.a.createElement("div",{className:"login-form__field"},r.a.createElement(w.a,{className:"login-form__error",name:"password",component:"div"}),r.a.createElement("label",{className:"login-form__label",htmlFor:"password"},"Password"),r.a.createElement(w.b,{type:"password",placeholder:"Password",className:"login-form__input",id:"password",name:"password"})),r.a.createElement("button",{className:"login-form__button",type:"submit",disabled:a},"Login"))})),D={logIn:R},F=Object(c.b)(null,D)(T);t(153);var M=function(){return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement(u.a,{to:"/profile"}):r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-box"},r.a.createElement(F,null),r.a.createElement("div",{className:"login-redirect"},r.a.createElement("p",{className:"login-redirect__signup"},"Don't have an account?",r.a.createElement(m.b,{className:"login-redirect__link",to:"/signup"},"Signup")),r.a.createElement("p",{className:"login-redirect__forgot-password"},r.a.createElement(m.b,{className:"login-redirect__link",to:"/forgotPassword"},"Forgot Password")))))}))},U=(t(154),t(12));t(155);var G=function(e){var a=e.customClass;return r.a.createElement("div",{className:"loader ".concat(a)})};var V={logOut:function(){return{type:"LOG_OUT"}}},Q=Object(u.g)(Object(c.b)(null,V)((function(e){var a=e.logOut,t=e.history,o=Object(n.useState)("loading"),s=Object(U.a)(o,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){a(a,i,t)}),[i,t,a]),r.a.createElement(r.a.Fragment,null,"loading"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null),r.a.createElement("h1",{className:"logout-state"},"Logging out")):"error"===c?r.a.createElement("h1",{className:"logout-state"},"Error Logging Out"):"")})));var J=function(){return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement("div",{className:"logout"},r.a.createElement(Q,null)):r.a.createElement(u.a,{to:"/login"})}))};function B(){return(B=Object(S.a)(y.a.mark((function e(a,t){var n,r,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setErrors,n=t.setSubmitting,r=t.props,o=r.match.params.token,n(!0),e.prev=3,e.next=6,I.a.patch("/api/v1/users/verify/".concat(o),{password:a.password,passwordConfirm:a.passwordConfirm});case 6:s=e.sent,console.log(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var Y=function(e,a){return B.apply(this,arguments)};t(156);var K=Object(w.d)({mapPropsToValues:function(){return{password:"",passwordConfirm:""}},handleSubmit:Y,validationSchema:N.a().shape({password:N.c().min(8,"Password must have atleast 8 characters").required("Password is required"),passwordConfirm:N.c().oneOf([N.b("password"),null],"Passwords must match")})})((function(e){var a=e.isSubmitting;return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement(u.a,{to:"/profile"}):r.a.createElement("div",{className:"set-password"},r.a.createElement("div",{className:"set-password-box"},r.a.createElement(w.c,{className:"set-password-form"},r.a.createElement("div",{className:"set-password-form__field"},r.a.createElement(w.a,{className:"set-password-form__error",name:"password",component:"div"}),r.a.createElement("label",{className:"set-password-form__label",htmlFor:"password"},"Password"),r.a.createElement(w.b,{type:"password",placeholder:"Password",className:"set-password-form__input",id:"password",name:"password"})),r.a.createElement("div",{className:"set-password-form__field"},r.a.createElement(w.a,{className:"set-password-form__error",name:"passwordConfirm",component:"div"}),r.a.createElement("label",{className:"set-password-form__label",htmlFor:"passwordConfirm"},"Confirm Password"),r.a.createElement(w.b,{type:"password",placeholder:"Confirm Password",className:"set-password-form__input",id:"passwordConfirm",name:"passwordConfirm"})),r.a.createElement("button",{className:"set-password-form__button",type:"submit",disabled:a},"Set Password"))))}))}));function X(){return(X=Object(S.a)(y.a.mark((function e(a,t){var n,r,o,s,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setErrors,r=t.setSubmitting,o=t.props,s=o.match.params.token,c=o.history,r(!0),e.prev=4,e.next=7,I.a.patch("/api/v1/users/resetPassword/".concat(s),{password:a.password,passwordConfirm:a.passwordConfirm});case 7:"success"===e.sent.data.status&&c.push("/login"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n({password:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var W=function(e,a){return X.apply(this,arguments)};t(157);var z=Object(w.d)({mapPropsToValues:function(){return{password:"",passwordConfirm:""}},handleSubmit:W,validationSchema:N.a().shape({password:N.c().min(8,"Password must have atleast 8 characters").required("Password is required"),passwordConfirm:N.c().oneOf([N.b("password"),null],"Passwords must match")})})((function(e){var a=e.isSubmitting;return r.a.createElement("div",{className:"reset-password"},r.a.createElement("div",{className:"reset-password-box"},r.a.createElement(w.c,{className:"reset-password-form"},r.a.createElement("div",{className:"reset-password-form__field"},r.a.createElement(w.a,{className:"reset-password-form__error",name:"password",component:"div"}),r.a.createElement("label",{className:"reset-password-form__label",htmlFor:"password"},"Password"),r.a.createElement(w.b,{type:"password",placeholder:"Password",className:"reset-password-form__input",id:"password",name:"password"})),r.a.createElement("div",{className:"reset-password-form__field"},r.a.createElement(w.a,{className:"reset-password-form__error",name:"passwordConfirm",component:"div"}),r.a.createElement("label",{className:"reset-password-form__label",htmlFor:"passwordConfirm"},"Confirm Password"),r.a.createElement(w.b,{type:"password",placeholder:"Confirm Password",className:"reset-password-form__input",id:"passwordConfirm",name:"passwordConfirm"})),r.a.createElement("button",{className:"reset-password-form__button",type:"submit",disabled:a},"Reset Password"))))})),Z=Object(u.g)(z);function $(){return($=Object(S.a)(y.a.mark((function e(a,t){var n,r,o,s,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setErrors,r=t.setSubmitting,o=t.props,s=o.history,r(!0),e.prev=3,e.next=6,I.a.post("/api/v1/users/forgotPassword",{email:a.email});case 6:c=e.sent,console.log(c),"success"===c.data.status&&s.push({pathname:"/sentMail",state:{message:"Reset password link sent successfully to ".concat(a.email)}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),n({email:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var ee=function(e,a){return $.apply(this,arguments)};t(158);var ae=Object(w.d)({mapPropsToValues:function(){return{email:""}},handleSubmit:ee,validationSchema:N.a().shape({email:N.c().email("Invalid Email").required("Email is required")})})((function(e){var a=e.isSubmitting;return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement(u.a,{to:"/profile"}):r.a.createElement("div",{className:"forgot-password"},r.a.createElement("div",{className:"forgot-password-box"},r.a.createElement(w.c,{className:"forgot-password-form"},r.a.createElement("div",{className:"forgot-password-form__field"},r.a.createElement(w.a,{className:"forgot-password-form__error",name:"email",component:"div"}),r.a.createElement("label",{className:"forgot-password-form__label",htmlFor:"email"},"Email"),r.a.createElement(w.b,{placeholder:"Email",className:"forgot-password-form__input",id:"email",name:"email"})),r.a.createElement("button",{className:"forgot-password-form__button",type:"submit",disabled:a},"Forgot Password")),r.a.createElement("p",{className:"forgot-password-note"},"Email you provide should already be registered. Reset password link will be sent to that email address.")))}))})),te=Object(u.g)(ae);t(159);var ne=function(e){var a=e.history;if(!a.location.state)return r.a.createElement(u.a,{to:"/"});var t=a.location.state.message;return t?r.a.createElement("div",{className:"sentmail"},r.a.createElement("div",{className:"sentmail-box"},r.a.createElement("p",{className:"sentmail-message"},t))):r.a.createElement(u.a,{to:"/"})},re=t(59);var oe=function(){var e=Object(n.useState)([]),a=Object(U.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){Object(S.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("/api/v1/recordings");case 3:"success"===(a=e.sent).data.status&&o([].concat(Object(re.a)(t),Object(re.a)(a.data.data.recordings))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[o,t]),r.a.createElement("div",null,t.map((function(e){return console.log(e),r.a.createElement("audio",{src:"/api/v1/recordings/".concat(e.recording)})})))};var se=function(e){return Object(n.useEffect)((function(){Object(S.a)(y.a.mark((function e(){var a,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("/api/v1/recordings/5ea04fbdf2a17a2b4cca61c8/ratings",{rating:13});case 3:return a=e.sent,e.next=6,I.a.post("/api/v1/recordings/5ea04fbdf2a17a2b4cca61c8/comments",{textComment:"Nice"});case 6:t=e.sent,console.log(a,t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()})),r.a.createElement("div",null,r.a.createElement("h1",null,"Rating Recording"))};t(160);var ce=function(){return r.a.createElement(k.Consumer,null,(function(e){return e.isLoggedIn?r.a.createElement("div",{className:"profile"},r.a.createElement("h1",null,"Profile")):r.a.createElement(u.a,{to:"/profile"})}))};t(161);var ie=function(e){var a,t=e.mediaRecorder,o=(e.updateRecordState,Object(n.useState)(!1)),s=Object(U.a)(o,2),c=s[0],i=s[1],l=Object(n.useState)(),m=Object(U.a)(l,2),u=m[0],d=m[1],_=Object(n.useReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,a=arguments.length>1?arguments[1]:void 0;return e-1===0&&(t.stop(),clearInterval(u)),"decrease"===a.type?e-1:e}),60),f=Object(U.a)(_,2),g=f[0],v=f[1];function E(){var e=setInterval((function(){v({type:"decrease"})}),1e3);d(e)}function h(){clearInterval(u)}return r.a.createElement("div",{className:"audio-recorder"},r.a.createElement("div",{className:"audio-recorder__duration"},60===(a=g)?"01:00":a<60?a>=10?"00:".concat(a):"00:0".concat(a):void 0),r.a.createElement("div",{className:"audio-recorder__controls"},"recording"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"audio-recorder__btn",onClick:function(){t.pause(),i("paused"),h()}},r.a.createElement("svg",{className:"audio-recorder__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-pause2")}))),r.a.createElement("button",{className:"audio-recorder__btn audio-recorder__btn--stop",onClick:function(){t.stop(),h()}},r.a.createElement("svg",{className:"audio-recorder__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-stop2")})))):"paused"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"audio-recorder__btn",onClick:function(){t.resume(),i("recording"),E()}},r.a.createElement("svg",{className:"audio-recorder__icon audio-recorder__icon--mic"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-mic")}))),r.a.createElement("button",{className:"audio-recorder__btn audio-recorder__btn--stop",onClick:function(){t.stop(),h()}},r.a.createElement("svg",{className:"audio-recorder__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-stop2")})))):r.a.createElement("button",{className:"audio-recorder__btn",onClick:function(){t.start(),i("recording"),E()}},r.a.createElement("svg",{className:"audio-recorder__icon audio-recorder__icon--mic"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-mic")})))))},le=(t(162),r.a.createRef());var me=Object(w.d)({mapPropsToValues:function(){return{email:"",password:""}},handleSubmit:function(){},validationSchema:N.a().shape({title:N.c().required("Title is required").min(10,"Title must have more than or equal to 10 characters").max(40,"Title must have less than or equal to 40 characters"),description:N.c().required("Description is required").max(500,"Description must have less than or equal to 500 characters")})})((function(e){var a=e.isSubmitting,t=e.chunks,o=e.updateRecordState;return Object(n.useEffect)((function(){var e=new Blob(t,{type:"audio/webm; codecs=opus"}),a=window.URL.createObjectURL(e);le.current.src=a}),[t]),r.a.createElement("div",{className:"recording-form-container"},r.a.createElement("div",{className:"recording-form-wrapper"},r.a.createElement("audio",{className:"recording-form-recording",ref:le,controls:!0}),r.a.createElement(w.c,{className:"recording-form"},r.a.createElement("div",{className:"recording-form__field"},r.a.createElement(w.a,{className:"recording-form__error",name:"title",component:"div"}),r.a.createElement("label",{className:"recording-form__label",htmlFor:"title"},"Title"),r.a.createElement(w.b,{placeholder:"Title",className:"recording-form__input",id:"title",name:"title"})),r.a.createElement("div",{className:"recording-form__field"},r.a.createElement(w.a,{className:"recording-form__error",name:"description",component:"div"}),r.a.createElement("label",{className:"recording-form__label",htmlFor:"description"},"Description"),r.a.createElement(w.b,{component:"textarea",placeholder:"Description",className:"recording-form__textarea",id:"description",name:"description"})),r.a.createElement("button",{className:"recording-form__button",type:"submit",disabled:a},"Save"),r.a.createElement("button",{className:"recording-form__button",type:"button",onClick:function(){o("recorder")},disabled:a},"Cancel"))))}));var ue=function(e){var a=Object(n.useState)(!1),t=Object(U.a)(a,2),o=t[0],s=t[1],c=Object(n.useState)(),i=Object(U.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(U.a)(u,2),p=d[0],_=d[1],f=Object(n.useState)([]),g=Object(U.a)(f,2),v=g[0],E=g[1];return Object(n.useEffect)((function(){l||p||(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(console.log("getUserMedia supported."),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){var a=new MediaRecorder(e);a.addEventListener("dataavailable",(function(e){E([].concat(Object(re.a)(v),[e.data]))})),a.addEventListener("stop",(function(e){s("form")})),m(a),s("recorder"),_(!0)})).catch((function(e){console.log("The following getUserMedia error occured: "+e)}))):console.log("getUserMedia not supported on your browser!"))}),[v,p,l]),r.a.createElement("div",{className:"record"},"recorder"===o&&l?r.a.createElement(ie,{updateRecordState:s,mediaRecorder:l}):"form"===o?r.a.createElement(me,{chunks:v,updateRecordState:s}):r.a.createElement(G,{customClass:"record-loader"}))};var de=function(e){var a=e.path,t=e.icon,n=e.text,o=e.inputRef;return r.a.createElement(x.Consumer,null,(function(e){return r.a.createElement("li",{className:"nav__item"},r.a.createElement(m.b,{onClick:function(){o.current.click()},className:"nav__link ".concat(e===a?"nav__link--selected":""),to:"".concat(a)},r.a.createElement("svg",{className:"nav__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-").concat(t)})),r.a.createElement("span",{className:"nav__text"},n)))}))},pe=t(122),_e=t.n(pe);function fe(){return(fe=Object(S.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("/api/v1/users/notifications/unread");case 3:"success"===(t=e.sent).data.status&&a(t.data.data.user),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ge=function(e){return fe.apply(this,arguments)},ve=t(74),Ee=t.n(ve);function he(e,a){return e<2?a:a+"s"}var be=function(e){var a,t,n=e.notification,o=e.type;return"rating"===o?(a=r.a.createElement("p",{className:"notification__message"},r.a.createElement("span",{className:"notification__username"},n.rating.user.name)," ","rated on your post"," ",r.a.createElement("span",{className:"notification__title"},n.rating.recording.title)),t=n.rating.user.photo?"/api/v1/static/images/".concat(n.rating.user.photo):void 0):"comment"===o?(a=r.a.createElement("p",{className:"notification__message"},r.a.createElement("span",{className:"notification__username"},n.comment.user.name," "),"commented on your post"," ",r.a.createElement("span",{className:"notification__title"},n.comment.recording.title)),t=n.comment.user.photo?"/api/v1/static/images/".concat(n.comment.user.photo):void 0):"question"===o&&(a=r.a.createElement("p",{className:"notification__message"},r.a.createElement("span",{className:"notification__username"},n.question.user.name)," ","answered your question"," ",r.a.createElement("span",{className:"notification__title"},n.question.recording.title)),t=n.question.user.photo?"/api/v1/static/images/".concat(n.question.user.photo):void 0),r.a.createElement("div",{className:"notification"},r.a.createElement("img",{className:"notification__user-img",src:t||Ee.a,alt:"user"}),a,r.a.createElement("span",{className:"notification__time"},function(e){var a=((new Date).getTime()-e)/1e3,t=a/60,n=t/60,r=n/24,o=r/7,s=r/30,c=s/12;return a<60?"Just Now":t<60?"".concat(Math.floor(t)," ").concat(he(t,"minute")," ago"):n<24?"".concat(Math.floor(n)," ").concat(he(n,"hour")," ago"):r<7?"".concat(Math.floor(r)," ").concat(he(r,"day")," ago"):o<4?"".concat(Math.floor(o),"  ").concat(he(o,"week")," ago"):s<12?"".concat(Math.floor(s)," ").concat(he(s,"month")," ago"):"".concat(Math.floor(c)," ").concat(he(c,"year")," ago")}(new Date(n.createdAt).getTime())))};function Ne(){return(Ne=Object(S.a)(y.a.mark((function e(a,t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("loading"),e.next=4,I.a.get("/api/v1/users/notifications/readAllNotifications");case 4:"success"===(n=e.sent).data.status&&(t("success"),a(n.data.data.user)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t("error"),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var we=function(e,a){return Ne.apply(this,arguments)};var xe={logIn:R},ke=Object(c.b)(null,xe)((function(e){var a=e.user,t=e.logIn,o=Object(n.useState)("loading"),s=Object(U.a)(o,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){we(t,i)}),[t,i]),r.a.createElement("div",{className:"notifications-box"},r.a.createElement("h1",{className:"notifications-box__heading"},"Notifications"),"loading"===c?r.a.createElement("div",{className:"nav-notifications-loader-wrapper"},r.a.createElement(G,{customClass:"nav-notifications-loader"})):"success"===c?r.a.createElement("ul",{className:"notifications-box__list"},a.notifications.sort((function(e,a){return new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e){return r.a.createElement("li",{key:e.createdAt,className:"notifications-box__item"},r.a.createElement(m.b,{className:"notifications-box__link",to:"/notifications"},e.rating?r.a.createElement(be,{notification:e,type:"rating"}):e.comment?r.a.createElement(be,{notification:e,type:"comment"}):e.question?r.a.createElement(be,{notification:e,type:"question"}):""))}))):"error"===c?r.a.createElement("div",{className:"notifications-box__error-wrapper"},r.a.createElement("h1",{className:"notifications-box__error"},"Error Occured")):"",r.a.createElement(m.b,{className:"notifications-box__bottom-link",to:"/notifications"},"Show All"))}));function Oe(e,a){for(var t=e;t=t.parentNode;)if(t===a)return!0}function ye(e,a){for(var t=e;t=t.parentNode;)if(t.className===a)return!0}var Se={logIn:R},je=Object(c.b)(null,Se)((function(e){var a=e.user,t=e.logIn,o=Object(n.useState)(!1),s=Object(U.a)(o,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){var e=_e()("http://localhost:8000");e.emit("join",{id:a._id}),e.on("notification",(function(){ge(t)}));var n=document.querySelector("body"),r=document.querySelector(".nav__btn-pseudo.nav__btn-pseudo--bell");n.addEventListener("click",(function(e){var a=document.querySelector(".notifications-box");(e.target!==r&&!Oe(e.target,r)&&e.target!==a&&!Oe(e.target,a)||"notifications-box__link"===e.target.className||ye(e.target,"notifications-box__link")||"notifications-box__bottom-link"===e.target.className||ye(e.target,"notifications-box__bottom-link"))&&i(!1)}))}),[a,t]),r.a.createElement("div",{className:"nav-notifications"},r.a.createElement("button",{className:"nav__btn-pseudo nav__btn-pseudo--bell",onClick:function(){return i(!c)}},a.unreadNotifications?r.a.createElement("span",{className:"nav-notifications-count"},a.unreadNotifications>9?"9+":a.unreadNotifications):"",r.a.createElement("svg",{className:"nav__icon nav__icon--bell"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-bell")}))),c?r.a.createElement(ke,{user:a}):"")}));function Ie(e,a){for(var t=e;t=t.parentNode;)if(t===a)return!0}var Ce=function(e){var a=e.user,t=a.photo?"/api/v1/static/images/".concat(a.photo):Ee.a,o=Object(n.useState)(!1),s=Object(U.a)(o,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){var e=document.querySelector("body"),a=document.querySelector(".nav__btn-pseudo.nav__btn-pseudo--user");e.addEventListener("click",(function(e){var t=document.querySelector(".nav-user-menu");(e.target!==a&&!Ie(e.target,a)&&e.target!==t&&!Ie(e.target,t)||"nav-user-menu__link"===e.target.className||function(e,a){for(var t=e;t=t.parentNode;)if(t.className===a)return!0}(e.target,"nav-user-menu__link"))&&i(!1)}))}),[]),r.a.createElement("div",{className:"nav-user"},r.a.createElement("button",{className:"nav__btn-pseudo nav__btn-pseudo--user",onClick:function(){return i(!c)}},r.a.createElement("img",{className:"nav__avatar",src:"".concat(t),alt:"avatar"}),r.a.createElement("span",{className:"nav__username"},a.name.split(" ")[0]),r.a.createElement("svg",{className:"nav__icon nav__icon--carret-down"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-arrow_drop_down")}))),c?r.a.createElement("div",{className:"nav-user-menu"},r.a.createElement(m.b,{className:"nav-user-menu__link",to:"/profile"},r.a.createElement("svg",{className:"nav__icon  nav-user-menu__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-user")})),r.a.createElement("span",{className:"nav-user-menu__text"},"Profile")),r.a.createElement(m.b,{className:"nav-user-menu__link",to:"/logout"},r.a.createElement("svg",{className:"nav__icon  nav-user-menu__icon"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-switch")})),r.a.createElement("span",{className:"nav-user-menu__text"},"Logout"))):"")},Pe=function(e){var a=e.togglerInputRef,t=e.user;return r.a.createElement("div",{className:"nav__loggedIn"},r.a.createElement(m.b,{onClick:function(){a.current.click()},className:"nav__loggedIn-btn",to:"/record"},r.a.createElement("svg",{className:"nav__icon nav__icon--record nav__icon--loggedIn"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-mic")})),r.a.createElement("span",{className:"nav__loggedIn-btn-text"},"Record")),r.a.createElement(m.b,{onClick:function(){a.current.click()},className:"nav__loggedIn-btn nav__loggedIn-btn--notifications",to:"/notifications"},r.a.createElement("svg",{className:"nav__icon nav__icon--loggedIn"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-bell")})),r.a.createElement("span",{className:"nav__loggedIn-btn-text"},"Notifications")),r.a.createElement(m.b,{onClick:function(){a.current.click()},className:"nav__loggedIn-btn nav__loggedIn-btn--notifications",to:"/profile"},r.a.createElement("svg",{className:"nav__icon nav__icon--loggedIn"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-user")})),r.a.createElement("span",{className:"nav__loggedIn-btn-text"},"Profile")),r.a.createElement(m.b,{onClick:function(){a.current.click()},className:"nav__loggedIn-btn nav__loggedIn-btn--notifications",to:"/logout"},r.a.createElement("svg",{className:"nav__icon nav__icon--loggedIn"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#icon-switch")})),r.a.createElement("span",{className:"nav__loggedIn-btn-text"},"Logout")),r.a.createElement(je,{user:t}),r.a.createElement(Ce,{user:t}))},qe=t(123),Le=t.n(qe),Re=(t(195),r.a.createRef());var Ae=function(e){var a=e.location.pathname;return r.a.createElement(x.Provider,{value:a},r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"nav-logo"},r.a.createElement(m.b,{className:"nav-logo__link",to:"/"},r.a.createElement("img",{className:"nav-logo__img",src:Le.a,alt:"logo"}))),r.a.createElement("input",{className:"nav__toggler-input",id:"nav__toggler-input",name:"nav__toggler-input",type:"checkbox",ref:Re}),r.a.createElement("label",{className:"nav__toggler",htmlFor:"nav__toggler-input"},r.a.createElement("span",{className:"nav__toggler-cover"})),r.a.createElement("div",{className:"nav__links"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement(de,{inputRef:Re,path:"/",icon:"home",text:"Home"}),r.a.createElement(de,{inputRef:Re,path:"/auditorium",icon:"music",text:"Auditorium"}),r.a.createElement(de,{inputRef:Re,path:"/discussion",icon:"bubbles",text:"QnA"})),r.a.createElement("div",{className:"nav__auth"},r.a.createElement(k.Consumer,null,(function(e){var a=e.isLoggedIn,t=e.user;return a?r.a.createElement(Pe,{togglerInputRef:Re,user:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{onClick:function(){Re.current.click()},className:"nav__btn nav__btn--signup",to:"/signup"},"Signup"),r.a.createElement(m.b,{onClick:function(){Re.current.click()},className:"nav__btn nav__btn--login",to:"/login"},"Login"))}))))))},He=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,user:e.auth.user}}))((function(e){var a=e.isLoggedIn,t=e.user;return r.a.createElement(k.Provider,{value:{isLoggedIn:a,user:t}},r.a.createElement(m.a,null,r.a.createElement(u.b,{component:Ae}),r.a.createElement("div",{className:"main"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:b}),r.a.createElement(u.b,{path:"/auditorium",exact:!0,component:oe}),r.a.createElement(u.b,{path:"/signup",exact:!0,component:L}),r.a.createElement(u.b,{path:"/login",exact:!0,component:M}),r.a.createElement(u.b,{path:"/logout",exact:!0,component:J}),r.a.createElement(u.b,{path:"/setPassword/:token",exact:!0,component:K}),r.a.createElement(u.b,{path:"/resetPassword/:token",exact:!0,component:Z}),r.a.createElement(u.b,{path:"/sentMail",exact:!0,component:ne}),r.a.createElement(u.b,{path:"/profile",exact:!0,component:ce}),r.a.createElement(u.b,{path:"/record",exact:!0,component:ue}),r.a.createElement(u.b,{path:"/forgotPassword",exact:!0,component:te}),r.a.createElement(u.b,{path:"/rate",exact:!0,component:se})))))})),Te=(t(196),{isLoggedIn:!1,user:null}),De=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOG_IN":return{isLoggedIn:!0,user:a.payload};case"LOG_OUT":return{isLoggedIn:!1,user:null};default:return e}}});var Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Me=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return void console.log(a)}}(),Ue=Object(i.e)(De,Me,Fe(Object(i.a)(l.a)));Ue.subscribe((function(){!function(e){try{var a=JSON.stringify(e);localStorage.setItem("state",a)}catch(t){console.log(t)}}(Ue.getState())})),s.a.render(r.a.createElement(c.a,{store:Ue},r.a.createElement(He,null)),document.getElementById("root"))},5:function(e,a,t){e.exports=t.p+"static/media/sprite.b4f6d964.svg"},74:function(e,a,t){e.exports=t.p+"static/media/user.6732bd42.png"},87:function(e,a,t){e.exports=t.p+"static/media/logo.08ee6099.png"}},[[124,1,2]]]);
//# sourceMappingURL=main.bebb2be5.chunk.js.map